{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\xfit.vn\\\\app\\\\application\\\\forms\\\\PostForm.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { Form, Item, Input, Label, Textarea, Button, Text } from 'native-base';\nimport * as firebase from 'firebase';\nimport Strings from \"../utils/Strings\";\nimport Rating from 'react-native-star-rating';\n\nvar styles = require(\"../../assets/files/Styles\");\n\nvar PostForm = function (_Component) {\n  _inherits(PostForm, _Component);\n\n  var _super = _createSuper(PostForm);\n\n  function PostForm() {\n    var _this;\n\n    _classCallCheck(this, PostForm);\n\n    _this = _super.call(this);\n    var user = firebase.auth().currentUser;\n    var date = new Date().toString();\n    _this.state = {\n      comment: {\n        comment: '',\n        rating: 5,\n        user: user.displayName,\n        date: date\n      }\n    };\n    return _this;\n  }\n\n  _createClass(PostForm, [{\n    key: \"randomFunction\",\n    value: function randomFunction() {\n      this.props.closeModal();\n    }\n  }, {\n    key: \"addComment\",\n    value: function addComment() {\n      var _this2 = this;\n\n      var validate = this.state.comment;\n      var comment = this.state.comment.comment;\n\n      if (comment !== '') {\n        var data = {};\n\n        var _comment = _extends({}, validate);\n\n        var ref = firebase.database().ref().child('postComments');\n        var key = ref.push().key;\n        data[this.props.postId + \"/\" + key] = _comment;\n        ref.update(data).then(function () {\n          _this2.setState(function (prevState, props) {\n            var user = firebase.auth().currentUser;\n            var date = new Date().toString();\n            return {\n              comment: {\n                comment: '',\n                rating: 5,\n                user: user.displayName,\n                date: date\n              }\n            };\n          });\n\n          _this2.randomFunction();\n        });\n      }\n    }\n  }, {\n    key: \"onChangeRating\",\n    value: function onChangeRating(value) {\n      this.setState({\n        comment: {\n          comment: this.state.comment.comment,\n          rating: value,\n          user: this.state.comment.user,\n          date: this.state.comment.date\n        }\n      });\n    }\n  }, {\n    key: \"onChangeMessage\",\n    value: function onChangeMessage(value) {\n      this.setState({\n        comment: {\n          comment: value,\n          rating: this.state.comment.rating,\n          user: this.state.comment.user,\n          date: this.state.comment.date\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var rating = this.state.comment.rating;\n      return React.createElement(View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 6\n        }\n      }, React.createElement(Form, {\n        style: {\n          marginBottom: 35,\n          marginTop: 10\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 1\n        }\n      }, React.createElement(Rating, {\n        ref: \"input\",\n        disabled: false,\n        maxStars: 5,\n        emptyStar: 'ios-star-outline',\n        fullStar: 'ios-star',\n        halfStar: 'ios-star-half',\n        iconSet: 'Ionicons',\n        rating: rating,\n        containerStyle: {\n          width: 160\n        },\n        starSize: 26,\n        selectedStar: function selectedStar(value) {\n          return _this3.onChangeRating(value);\n        },\n        emptyStarColor: '#f1c40f',\n        fullStarColor: '#f1c40f',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }\n      }), React.createElement(Textarea, {\n        rowSpan: 3,\n        onChangeText: function onChangeText(value) {\n          return _this3.onChangeMessage(value);\n        },\n        style: {\n          borderWidth: 1,\n          borderColor: 'rgba(0,0,0,0.2)',\n          marginTop: 30,\n          marginBottom: 0,\n          borderRadius: 6\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 9\n        }\n      })), React.createElement(TouchableOpacity, {\n        onPress: this.addComment.bind(this),\n        style: styles.postCommentButton,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 5\n        }\n      }, React.createElement(Text, {\n        style: styles.postCommentText,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 5\n        }\n      }, Strings.ST110.toUpperCase())));\n    }\n  }]);\n\n  return PostForm;\n}(Component);\n\nexport { PostForm as default };","map":{"version":3,"sources":["C:/Users/DELL/Desktop/xfit.vn/app/application/forms/PostForm.js"],"names":["React","Component","Form","Item","Input","Label","Textarea","Button","Text","firebase","Strings","Rating","styles","require","PostForm","user","auth","currentUser","date","Date","toString","state","comment","rating","displayName","props","closeModal","validate","data","ref","database","child","key","push","postId","update","then","setState","prevState","randomFunction","value","marginBottom","marginTop","width","onChangeRating","onChangeMessage","borderWidth","borderColor","borderRadius","addComment","bind","postCommentButton","postCommentText","ST110","toUpperCase"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {View, TouchableOpacity} from \"react-native\";\nimport {Form, Item, Input, Label, Textarea, Button, Text } from 'native-base';\nimport * as firebase from 'firebase';\nimport Strings from '../utils/Strings';\nimport Rating from 'react-native-star-rating';\n\nvar styles = require('../../assets/files/Styles');\n\nexport default class PostForm extends Component {\n\tconstructor() {\n\t\tsuper();\n\t\tvar user = firebase.auth().currentUser;\n\t\tvar date = new Date().toString();\n\t\tthis.state = {\n\t\t\tcomment: {\n\t\t\t\tcomment: '',\n\t\t\t\trating: 5,\n\t\t\t\tuser: user.displayName,\n\t\t\t\tdate: date\n\t\t\t}\n\t\t};\n\t}\n\n\trandomFunction() {\n        this.props.closeModal();\n    }\n\n\taddComment () {\n\n\t\tvar validate = this.state.comment;\n\t\tvar comment = this.state.comment.comment;\n\n\t\tif(comment !== '') {\n\t\t\tlet data = {};\n\t\t\tlet comment = Object.assign({}, validate);\n\t\t\tlet ref = firebase.database().ref().child('postComments');\n\t\t\tconst key = ref.push().key;\n\n\t\t\tdata[`${this.props.postId}/${key}`] = comment;\n\n\t\t\tref.update(data).then(() => {\n\t\t\t\tthis.setState((prevState, props) => {\n\n\t\t\t\t\tvar user = firebase.auth().currentUser;\n\t\t\t\t\tvar date = new Date().toString();\n\t\t\t\t\treturn {\n\t\t\t\t\t\tcomment: {\n\t\t\t\t\t\t\tcomment: '',\n\t\t\t\t\t\t\trating: 5,\n\t\t\t\t\t\t\tuser: user.displayName,\n\t\t\t\t\t\t\tdate: date\n\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tthis.randomFunction();\n\n\t\t\t})\n\t\t}\n\t}\n\n\tonChangeRating (value) {\n\t\tthis.setState({\n\t\t\tcomment: {\n\t\t\t\tcomment: this.state.comment.comment,\n\t\t\t\trating: value,\n\t\t\t\tuser: this.state.comment.user,\n\t\t\t\tdate: this.state.comment.date,\n\t\t\t}}\n\t\t\t);\n\t}\n\n\tonChangeMessage (value) {\n\t\tthis.setState({\n\t\t\tcomment: {\n\t\t\t\tcomment: value,\n\t\t\t\trating: this.state.comment.rating,\n\t\t\t\tuser: this.state.comment.user,\n\t\t\t\tdate: this.state.comment.date,\n\t\t\t}}\n\t\t\t);\n\t}\n\n\trender () {\n\nconst {rating} = this.state.comment;\n\n\t\treturn (\n\t\t\t\t\t<View>\n\n<Form style={{marginBottom: 35, marginTop: 10}}>\n\n            <Rating\n\t\t\tref=\"input\"\n        \tdisabled={false}\n        \tmaxStars={5}\n        \temptyStar={'ios-star-outline'}\n        \tfullStar={'ios-star'}\n        \thalfStar={'ios-star-half'}\n        \ticonSet={'Ionicons'}\n        \trating={rating}\n        \tcontainerStyle={{width: 160}}\n        \tstarSize={26}\n        \tselectedStar={value => this.onChangeRating(value)}\n        \temptyStarColor={'#f1c40f'}\n            fullStarColor={'#f1c40f'}\n      \t\t/>\n\n      \t\t<Textarea rowSpan={3} onChangeText={value => this.onChangeMessage(value)} style={{borderWidth: 1, borderColor: 'rgba(0,0,0,0.2)', marginTop: 30, marginBottom: 0, borderRadius: 6}}/>\n\n</Form>\n\n\t\t\t\t<TouchableOpacity onPress={this.addComment.bind(this)} style={styles.postCommentButton}>\n\t\t\t\t<Text style={styles.postCommentText}>{Strings.ST110.toUpperCase()}</Text>\n\t\t\t\t</TouchableOpacity>\n\n\t\t\t\t</View>\n\n\n\t\t)\n\t}\n}"]},"metadata":{},"sourceType":"module"}