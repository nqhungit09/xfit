{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\DELL\\\\Desktop\\\\xfit.vn\\\\app\\\\node_modules\\\\react-native-swiper-flatlist\\\\src\\\\components\\\\SwiperFlatList\\\\SwiperFlatList.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Pagination from \"../Pagination\";\nvar MILLISECONDS = 1000;\nvar FIRST_INDEX = 0;\nvar ITEM_VISIBLE_PERCENT_THRESHOLD = 60;\nvar SwiperFlatList = React.forwardRef(function (_ref, ref) {\n  var vertical = _ref.vertical,\n      children = _ref.children,\n      data = _ref.data,\n      renderItem = _ref.renderItem,\n      renderAll = _ref.renderAll,\n      index = _ref.index,\n      showPagination = _ref.showPagination,\n      PaginationComponent = _ref.PaginationComponent,\n      paginationActiveColor = _ref.paginationActiveColor,\n      paginationDefaultColor = _ref.paginationDefaultColor,\n      paginationStyle = _ref.paginationStyle,\n      paginationStyleItem = _ref.paginationStyleItem,\n      autoplayDelay = _ref.autoplayDelay,\n      autoplay = _ref.autoplay,\n      autoplayLoop = _ref.autoplayLoop,\n      autoplayInvertDirection = _ref.autoplayInvertDirection,\n      onChangeIndex = _ref.onChangeIndex,\n      onMomentumScrollEnd = _ref.onMomentumScrollEnd,\n      onViewableItemsChanged = _ref.onViewableItemsChanged,\n      viewabilityConfig = _ref.viewabilityConfig,\n      disableGesture = _ref.disableGesture,\n      props = _objectWithoutProperties(_ref, [\"vertical\", \"children\", \"data\", \"renderItem\", \"renderAll\", \"index\", \"showPagination\", \"PaginationComponent\", \"paginationActiveColor\", \"paginationDefaultColor\", \"paginationStyle\", \"paginationStyleItem\", \"autoplayDelay\", \"autoplay\", \"autoplayLoop\", \"autoplayInvertDirection\", \"onChangeIndex\", \"onMomentumScrollEnd\", \"onViewableItemsChanged\", \"viewabilityConfig\", \"disableGesture\"]);\n\n  var _data;\n\n  var _renderItem;\n\n  if (children) {\n    _data = Array.isArray(children) ? children : [children];\n\n    _renderItem = function _renderItem(_ref2) {\n      var item = _ref2.item;\n      return item;\n    };\n  } else if (data) {\n    _data = data;\n    _renderItem = renderItem;\n  }\n\n  var size = _data.length;\n\n  var _initialNumToRender = renderAll ? size : 1;\n\n  var _React$useState = React.useState(index),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      paginationIndex = _React$useState2[0],\n      setPaginationIndex = _React$useState2[1];\n\n  var _React$useState3 = React.useState(index),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      prevIndex = _React$useState4[0],\n      setPrevIndex = _React$useState4[1];\n\n  var _React$useState5 = React.useState({\n    index: index,\n    prevIndex: index\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      paginationIndexes = _React$useState6[0],\n      setPaginationIndexes = _React$useState6[1];\n\n  var _React$useState7 = React.useState(false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      ignoreOnMomentumScrollEnd = _React$useState8[0],\n      setIgnoreOnMomentumScrollEnd = _React$useState8[1];\n\n  var flatListElement = React.useRef(null);\n\n  var _React$useState9 = React.useState(!disableGesture),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      scrollEnabled = _React$useState10[0],\n      setScrollEnabled = _React$useState10[1];\n\n  var _onChangeIndex = React.useCallback(function (_ref3) {\n    var _index = _ref3.index,\n        _prevIndex = _ref3.prevIndex;\n    onChangeIndex == null ? void 0 : onChangeIndex({\n      index: _index,\n      prevIndex: _prevIndex\n    });\n  }, [onChangeIndex]);\n\n  var _scrollToIndex = function _scrollToIndex(params) {\n    var _flatListElement$curr;\n\n    if (typeof params !== 'object') {\n      console.error('Expected an object for \"scrollToIndex\", for example: scrollToIndex({ index: 1, animated: true })');\n      return;\n    }\n\n    var indexToScroll = params.index,\n        _params$animated = params.animated,\n        animated = _params$animated === void 0 ? true : _params$animated;\n    var newParams = {\n      animated: animated,\n      index: indexToScroll\n    };\n    setPaginationIndexes(function (prevState) {\n      setIgnoreOnMomentumScrollEnd(true);\n      return {\n        index: indexToScroll,\n        prevIndex: prevState.index\n      };\n    });\n    flatListElement == null ? void 0 : (_flatListElement$curr = flatListElement.current) == null ? void 0 : _flatListElement$curr.scrollToIndex(newParams);\n  };\n\n  React.useEffect(function () {\n    var next = {\n      index: paginationIndexes.index,\n      prevIndex: paginationIndexes.prevIndex\n    };\n\n    if (paginationIndex !== next.index) {\n      setPaginationIndex(next.index);\n    }\n\n    if (prevIndex !== next.prevIndex) {\n      setPrevIndex(next.prevIndex);\n    }\n\n    _onChangeIndex({\n      index: next.index,\n      prevIndex: next.prevIndex\n    });\n  }, [paginationIndexes]);\n  React.useEffect(function () {\n    _onChangeIndex({\n      index: paginationIndex,\n      prevIndex: prevIndex\n    });\n  }, [paginationIndex, prevIndex]);\n  React.useImperativeHandle(ref, function () {\n    return {\n      scrollToIndex: function scrollToIndex() {\n        setScrollEnabled(true);\n\n        _scrollToIndex.apply(void 0, arguments);\n\n        setScrollEnabled(!disableGesture);\n      },\n      getCurrentIndex: function getCurrentIndex() {\n        return paginationIndex;\n      },\n      getPrevIndex: function getPrevIndex() {\n        return prevIndex;\n      },\n      goToLastIndex: function goToLastIndex() {\n        setScrollEnabled(true);\n\n        _scrollToIndex({\n          index: size - 1\n        });\n\n        setScrollEnabled(!disableGesture);\n      },\n      goToFirstIndex: function goToFirstIndex() {\n        setScrollEnabled(true);\n\n        _scrollToIndex({\n          index: FIRST_INDEX\n        });\n\n        setScrollEnabled(!disableGesture);\n      }\n    };\n  });\n  React.useEffect(function () {\n    var isLastIndexEnd = autoplayInvertDirection ? paginationIndex === FIRST_INDEX : paginationIndex === _data.length - 1;\n    var shouldContinuoWithAutoplay = autoplay && !isLastIndexEnd;\n    var autoplayTimer;\n\n    if (shouldContinuoWithAutoplay || autoplayLoop) {\n      autoplayTimer = setTimeout(function () {\n        var nextIncrement = autoplayInvertDirection ? -1 : +1;\n        var nextIndex = (paginationIndex + nextIncrement) % _data.length;\n\n        if (autoplayInvertDirection && nextIndex < FIRST_INDEX) {\n          nextIndex = _data.length - 1;\n        }\n\n        _scrollToIndex({\n          index: nextIndex,\n          animated: !isLastIndexEnd\n        });\n      }, autoplayDelay * MILLISECONDS);\n    }\n\n    return function () {\n      return clearTimeout(autoplayTimer);\n    };\n  }, [paginationIndex]);\n\n  var _onMomentumScrollEnd = function _onMomentumScrollEnd(e) {\n    if (ignoreOnMomentumScrollEnd) {\n      setIgnoreOnMomentumScrollEnd(false);\n      return;\n    }\n\n    onMomentumScrollEnd == null ? void 0 : onMomentumScrollEnd({\n      index: paginationIndex\n    }, e);\n  };\n\n  var _onViewableItemsChanged = React.useMemo(function () {\n    return function (params) {\n      var changed = params.changed;\n      var newItem = changed == null ? void 0 : changed[FIRST_INDEX];\n\n      if (newItem !== undefined) {\n        var nextIndex = newItem.index;\n\n        if (newItem.isViewable) {\n          setPaginationIndex(nextIndex);\n        } else {\n          setPrevIndex(nextIndex);\n        }\n      }\n\n      onViewableItemsChanged == null ? void 0 : onViewableItemsChanged(params);\n    };\n  }, []);\n\n  var flatListProps = _objectSpread(_objectSpread({\n    scrollEnabled: scrollEnabled,\n    ref: flatListElement,\n    keyExtractor: function keyExtractor(_item, _index) {\n      return _index.toString();\n    },\n    horizontal: !vertical,\n    showsHorizontalScrollIndicator: false,\n    showsVerticalScrollIndicator: false,\n    pagingEnabled: true\n  }, props), {}, {\n    onMomentumScrollEnd: _onMomentumScrollEnd,\n    onScrollToIndexFailed: function onScrollToIndexFailed(info) {\n      return setTimeout(function () {\n        return _scrollToIndex({\n          index: info.index,\n          animated: false\n        });\n      });\n    },\n    data: _data,\n    renderItem: _renderItem,\n    initialNumToRender: _initialNumToRender,\n    initialScrollIndex: index,\n    viewabilityConfig: _objectSpread({\n      minimumViewTime: 200,\n      itemVisiblePercentThreshold: ITEM_VISIBLE_PERCENT_THRESHOLD\n    }, viewabilityConfig),\n    onViewableItemsChanged: _onViewableItemsChanged\n  });\n\n  var paginationProps = {\n    size: size,\n    paginationIndex: paginationIndex,\n    scrollToIndex: _scrollToIndex,\n    paginationActiveColor: paginationActiveColor,\n    paginationDefaultColor: paginationDefaultColor,\n    paginationStyle: paginationStyle,\n    paginationStyleItem: paginationStyleItem\n  };\n  return React.createElement(React.Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }\n  }, React.createElement(FlatList, _extends({}, flatListProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  })), showPagination && React.createElement(PaginationComponent, _extends({}, paginationProps, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 28\n    }\n  })));\n});\nSwiperFlatList.propTypes = {\n  data: PropTypes.array,\n  vertical: PropTypes.bool,\n  index: PropTypes.number,\n  renderAll: PropTypes.bool,\n  renderItem: PropTypes.func,\n  children: function children(props, propName) {\n    var data = props.data;\n\n    if (!props[propName] && !data) {\n      return new Error('Invalid props, `data` or `children` is required');\n    }\n\n    if (data && data.length !== 0 && !props.renderItem) {\n      return new Error('Invalid props, `renderItem` is required');\n    }\n\n    return undefined;\n  },\n  onChangeIndex: PropTypes.func,\n  showPagination: PropTypes.bool,\n  PaginationComponent: PropTypes.func,\n  paginationActiveColor: Pagination.propTypes.paginationActiveColor,\n  paginationDefaultColor: Pagination.propTypes.paginationDefaultColor,\n  paginationStyle: Pagination.propTypes.paginationStyle,\n  paginationStyleItem: Pagination.propTypes.paginationStyleItem,\n  autoplayDelay: PropTypes.number,\n  autoplay: PropTypes.bool,\n  autoplayInvertDirection: PropTypes.bool,\n  autoplayLoop: PropTypes.bool,\n  onMomentumScrollEnd: PropTypes.func,\n  onViewableItemsChanged: PropTypes.func,\n  viewabilityConfig: PropTypes.object,\n  disableGesture: PropTypes.bool\n};\nSwiperFlatList.defaultProps = {\n  index: FIRST_INDEX,\n  data: [],\n  autoplayDelay: 3,\n  autoplayInvertDirection: false,\n  autoplayLoop: false,\n  autoplay: false,\n  showPagination: false,\n  vertical: false,\n  renderAll: false,\n  PaginationComponent: Pagination,\n  onChangeIndex: undefined,\n  onMomentumScrollEnd: undefined,\n  onViewableItemsChanged: undefined,\n  viewabilityConfig: {},\n  disableGesture: false\n};\nexport default SwiperFlatList;","map":{"version":3,"sources":["C:/Users/DELL/Desktop/xfit.vn/app/node_modules/react-native-swiper-flatlist/src/components/SwiperFlatList/SwiperFlatList.js"],"names":["React","PropTypes","Pagination","MILLISECONDS","FIRST_INDEX","ITEM_VISIBLE_PERCENT_THRESHOLD","SwiperFlatList","forwardRef","ref","vertical","children","data","renderItem","renderAll","index","showPagination","PaginationComponent","paginationActiveColor","paginationDefaultColor","paginationStyle","paginationStyleItem","autoplayDelay","autoplay","autoplayLoop","autoplayInvertDirection","onChangeIndex","onMomentumScrollEnd","onViewableItemsChanged","viewabilityConfig","disableGesture","props","_data","_renderItem","Array","isArray","item","size","length","_initialNumToRender","useState","paginationIndex","setPaginationIndex","prevIndex","setPrevIndex","paginationIndexes","setPaginationIndexes","ignoreOnMomentumScrollEnd","setIgnoreOnMomentumScrollEnd","flatListElement","useRef","scrollEnabled","setScrollEnabled","_onChangeIndex","useCallback","_index","_prevIndex","_scrollToIndex","params","console","error","indexToScroll","animated","newParams","prevState","current","scrollToIndex","useEffect","next","useImperativeHandle","getCurrentIndex","getPrevIndex","goToLastIndex","goToFirstIndex","isLastIndexEnd","shouldContinuoWithAutoplay","autoplayTimer","setTimeout","nextIncrement","nextIndex","clearTimeout","_onMomentumScrollEnd","e","_onViewableItemsChanged","useMemo","changed","newItem","undefined","isViewable","flatListProps","keyExtractor","_item","toString","horizontal","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","pagingEnabled","onScrollToIndexFailed","info","initialNumToRender","initialScrollIndex","minimumViewTime","itemVisiblePercentThreshold","paginationProps","propTypes","array","bool","number","func","propName","Error","object","defaultProps"],"mappings":";;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;;AAGA,OAAOC,UAAP;AAEA,IAAMC,YAAY,GAAG,IAArB;AACA,IAAMC,WAAW,GAAG,CAApB;AACA,IAAMC,8BAA8B,GAAG,EAAvC;AAEA,IAAMC,cAAc,GAAGN,KAAK,CAACO,UAAN,CACrB,gBA4BEC,GA5BF,EA6BK;AAAA,MA3BDC,QA2BC,QA3BDA,QA2BC;AAAA,MA1BDC,QA0BC,QA1BDA,QA0BC;AAAA,MAzBDC,IAyBC,QAzBDA,IAyBC;AAAA,MAxBDC,UAwBC,QAxBDA,UAwBC;AAAA,MAvBDC,SAuBC,QAvBDA,SAuBC;AAAA,MAtBDC,KAsBC,QAtBDA,KAsBC;AAAA,MApBDC,cAoBC,QApBDA,cAoBC;AAAA,MAnBDC,mBAmBC,QAnBDA,mBAmBC;AAAA,MAlBDC,qBAkBC,QAlBDA,qBAkBC;AAAA,MAjBDC,sBAiBC,QAjBDA,sBAiBC;AAAA,MAhBDC,eAgBC,QAhBDA,eAgBC;AAAA,MAfDC,mBAeC,QAfDA,mBAeC;AAAA,MAbDC,aAaC,QAbDA,aAaC;AAAA,MAZDC,QAYC,QAZDA,QAYC;AAAA,MAXDC,YAWC,QAXDA,YAWC;AAAA,MAVDC,uBAUC,QAVDA,uBAUC;AAAA,MARDC,aAQC,QARDA,aAQC;AAAA,MAPDC,mBAOC,QAPDA,mBAOC;AAAA,MANDC,sBAMC,QANDA,sBAMC;AAAA,MALDC,iBAKC,QALDA,iBAKC;AAAA,MAJDC,cAIC,QAJDA,cAIC;AAAA,MAHEC,KAGF;;AACH,MAAIC,KAAJ;;AACA,MAAIC,WAAJ;;AAEA,MAAItB,QAAJ,EAAc;AAEZqB,IAAAA,KAAK,GAAGE,KAAK,CAACC,OAAN,CAAcxB,QAAd,IAA0BA,QAA1B,GAAqC,CAACA,QAAD,CAA7C;;AACAsB,IAAAA,WAAW,GAAG;AAAA,UAAGG,IAAH,SAAGA,IAAH;AAAA,aAAcA,IAAd;AAAA,KAAd;AACD,GAJD,MAIO,IAAIxB,IAAJ,EAAU;AACfoB,IAAAA,KAAK,GAAGpB,IAAR;AACAqB,IAAAA,WAAW,GAAGpB,UAAd;AACD;;AACD,MAAMwB,IAAI,GAAGL,KAAK,CAACM,MAAnB;;AAEA,MAAMC,mBAAmB,GAAGzB,SAAS,GAAGuB,IAAH,GAAU,CAA/C;;AAdG,wBAe2CpC,KAAK,CAACuC,QAAN,CAAezB,KAAf,CAf3C;AAAA;AAAA,MAeI0B,eAfJ;AAAA,MAeqBC,kBAfrB;;AAAA,yBAgB+BzC,KAAK,CAACuC,QAAN,CAAezB,KAAf,CAhB/B;AAAA;AAAA,MAgBI4B,SAhBJ;AAAA,MAgBeC,YAhBf;;AAAA,yBAiB+C3C,KAAK,CAACuC,QAAN,CAAe;AAAEzB,IAAAA,KAAK,EAALA,KAAF;AAAS4B,IAAAA,SAAS,EAAE5B;AAApB,GAAf,CAjB/C;AAAA;AAAA,MAiBI8B,iBAjBJ;AAAA,MAiBuBC,oBAjBvB;;AAAA,yBAkB+D7C,KAAK,CAACuC,QAAN,CAAe,KAAf,CAlB/D;AAAA;AAAA,MAkBIO,yBAlBJ;AAAA,MAkB+BC,4BAlB/B;;AAmBH,MAAMC,eAAe,GAAGhD,KAAK,CAACiD,MAAN,CAAa,IAAb,CAAxB;;AAnBG,yBAoBuCjD,KAAK,CAACuC,QAAN,CAAe,CAACV,cAAhB,CApBvC;AAAA;AAAA,MAoBIqB,aApBJ;AAAA,MAoBmBC,gBApBnB;;AAsBH,MAAMC,cAAc,GAAGpD,KAAK,CAACqD,WAAN,CACrB,iBAA8C;AAAA,QAApCC,MAAoC,SAA3CxC,KAA2C;AAAA,QAAjByC,UAAiB,SAA5Bb,SAA4B;AAC5CjB,IAAAA,aAAa,QAAb,YAAAA,aAAa,CAAG;AAAEX,MAAAA,KAAK,EAAEwC,MAAT;AAAiBZ,MAAAA,SAAS,EAAEa;AAA5B,KAAH,CAAb;AACD,GAHoB,EAIrB,CAAC9B,aAAD,CAJqB,CAAvB;;AAOA,MAAM+B,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,MAAM,EAAI;AAAA;;AAC/B,QAAI,OAAOA,MAAP,KAAkB,QAAtB,EAAgC;AAC9BC,MAAAA,OAAO,CAACC,KAAR,CACE,kGADF;AAIA;AACD;;AAP8B,QAShBC,aATgB,GASmBH,MATnB,CASvB3C,KATuB;AAAA,2BASmB2C,MATnB,CASDI,QATC;AAAA,QASDA,QATC,iCASU,IATV;AAU/B,QAAMC,SAAS,GAAG;AAAED,MAAAA,QAAQ,EAARA,QAAF;AAAY/C,MAAAA,KAAK,EAAE8C;AAAnB,KAAlB;AAEAf,IAAAA,oBAAoB,CAAC,UAAAkB,SAAS,EAAI;AAChChB,MAAAA,4BAA4B,CAAC,IAAD,CAA5B;AACA,aAAO;AAAEjC,QAAAA,KAAK,EAAE8C,aAAT;AAAwBlB,QAAAA,SAAS,EAAEqB,SAAS,CAACjD;AAA7C,OAAP;AACD,KAHmB,CAApB;AAOAkC,IAAAA,eAAe,QAAf,qCAAAA,eAAe,CAAEgB,OAAjB,2CAA0BC,aAA1B,CAAwCH,SAAxC;AACD,GApBD;;AAsBA9D,EAAAA,KAAK,CAACkE,SAAN,CAAgB,YAAM;AACpB,QAAMC,IAAI,GAAG;AACXrD,MAAAA,KAAK,EAAE8B,iBAAiB,CAAC9B,KADd;AAEX4B,MAAAA,SAAS,EAAEE,iBAAiB,CAACF;AAFlB,KAAb;;AAIA,QAAIF,eAAe,KAAK2B,IAAI,CAACrD,KAA7B,EAAoC;AAClC2B,MAAAA,kBAAkB,CAAC0B,IAAI,CAACrD,KAAN,CAAlB;AACD;;AACD,QAAI4B,SAAS,KAAKyB,IAAI,CAACzB,SAAvB,EAAkC;AAChCC,MAAAA,YAAY,CAACwB,IAAI,CAACzB,SAAN,CAAZ;AACD;;AACDU,IAAAA,cAAc,CAAC;AAAEtC,MAAAA,KAAK,EAAEqD,IAAI,CAACrD,KAAd;AAAqB4B,MAAAA,SAAS,EAAEyB,IAAI,CAACzB;AAArC,KAAD,CAAd;AAGD,GAdD,EAcG,CAACE,iBAAD,CAdH;AAgBA5C,EAAAA,KAAK,CAACkE,SAAN,CAAgB,YAAM;AACpBd,IAAAA,cAAc,CAAC;AAAEtC,MAAAA,KAAK,EAAE0B,eAAT;AAA0BE,MAAAA,SAAS,EAAEA;AAArC,KAAD,CAAd;AACD,GAFD,EAEG,CAACF,eAAD,EAAkBE,SAAlB,CAFH;AAIA1C,EAAAA,KAAK,CAACoE,mBAAN,CAA0B5D,GAA1B,EAA+B;AAAA,WAAO;AACpCyD,MAAAA,aAAa,EAAE,yBAAa;AAC1Bd,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;;AACAK,QAAAA,cAAc,MAAd;;AACAL,QAAAA,gBAAgB,CAAC,CAACtB,cAAF,CAAhB;AACD,OALmC;AAMpCwC,MAAAA,eAAe,EAAE;AAAA,eAAM7B,eAAN;AAAA,OANmB;AAOpC8B,MAAAA,YAAY,EAAE;AAAA,eAAM5B,SAAN;AAAA,OAPsB;AAQpC6B,MAAAA,aAAa,EAAE,yBAAM;AACnBpB,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;;AACAK,QAAAA,cAAc,CAAC;AAAE1C,UAAAA,KAAK,EAAEsB,IAAI,GAAG;AAAhB,SAAD,CAAd;;AACAe,QAAAA,gBAAgB,CAAC,CAACtB,cAAF,CAAhB;AACD,OAZmC;AAapC2C,MAAAA,cAAc,EAAE,0BAAM;AACpBrB,QAAAA,gBAAgB,CAAC,IAAD,CAAhB;;AACAK,QAAAA,cAAc,CAAC;AAAE1C,UAAAA,KAAK,EAAEV;AAAT,SAAD,CAAd;;AACA+C,QAAAA,gBAAgB,CAAC,CAACtB,cAAF,CAAhB;AACD;AAjBmC,KAAP;AAAA,GAA/B;AAoBA7B,EAAAA,KAAK,CAACkE,SAAN,CAAgB,YAAM;AACpB,QAAMO,cAAc,GAAGjD,uBAAuB,GAC1CgB,eAAe,KAAKpC,WADsB,GAE1CoC,eAAe,KAAKT,KAAK,CAACM,MAAN,GAAe,CAFvC;AAGA,QAAMqC,0BAA0B,GAAGpD,QAAQ,IAAI,CAACmD,cAAhD;AACA,QAAIE,aAAJ;;AACA,QAAID,0BAA0B,IAAInD,YAAlC,EAAgD;AAC9CoD,MAAAA,aAAa,GAAGC,UAAU,CAAC,YAAM;AAC/B,YAAMC,aAAa,GAAGrD,uBAAuB,GAAG,CAAC,CAAJ,GAAQ,CAAC,CAAtD;AAEA,YAAIsD,SAAS,GAAG,CAACtC,eAAe,GAAGqC,aAAnB,IAAoC9C,KAAK,CAACM,MAA1D;;AACA,YAAIb,uBAAuB,IAAIsD,SAAS,GAAG1E,WAA3C,EAAwD;AACtD0E,UAAAA,SAAS,GAAG/C,KAAK,CAACM,MAAN,GAAe,CAA3B;AACD;;AAGDmB,QAAAA,cAAc,CAAC;AAAE1C,UAAAA,KAAK,EAAEgE,SAAT;AAAoBjB,UAAAA,QAAQ,EAAE,CAACY;AAA/B,SAAD,CAAd;AACD,OAVyB,EAUvBpD,aAAa,GAAGlB,YAVO,CAA1B;AAWD;;AAED,WAAO;AAAA,aAAM4E,YAAY,CAACJ,aAAD,CAAlB;AAAA,KAAP;AAED,GAtBD,EAsBG,CAACnC,eAAD,CAtBH;;AAuBA,MAAMwC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAAAC,CAAC,EAAI;AAEhC,QAAInC,yBAAJ,EAA+B;AAC7BC,MAAAA,4BAA4B,CAAC,KAAD,CAA5B;AACA;AACD;;AAEDrB,IAAAA,mBAAmB,QAAnB,YAAAA,mBAAmB,CAAG;AAAEZ,MAAAA,KAAK,EAAE0B;AAAT,KAAH,EAA+ByC,CAA/B,CAAnB;AAGD,GAVD;;AAYA,MAAMC,uBAAuB,GAAGlF,KAAK,CAACmF,OAAN,CAC9B;AAAA,WAAM,UAAA1B,MAAM,EAAI;AAAA,UACN2B,OADM,GACM3B,MADN,CACN2B,OADM;AAEd,UAAMC,OAAO,GAAGD,OAAH,oBAAGA,OAAO,CAAGhF,WAAH,CAAvB;;AACA,UAAIiF,OAAO,KAAKC,SAAhB,EAA2B;AACzB,YAAMR,SAAS,GAAGO,OAAO,CAACvE,KAA1B;;AACA,YAAIuE,OAAO,CAACE,UAAZ,EAAwB;AACtB9C,UAAAA,kBAAkB,CAACqC,SAAD,CAAlB;AACD,SAFD,MAEO;AACLnC,UAAAA,YAAY,CAACmC,SAAD,CAAZ;AACD;AACF;;AACDnD,MAAAA,sBAAsB,QAAtB,YAAAA,sBAAsB,CAAG8B,MAAH,CAAtB;AACD,KAZD;AAAA,GAD8B,EAc9B,EAd8B,CAAhC;;AAiBA,MAAM+B,aAAa;AACjBtC,IAAAA,aAAa,EAAbA,aADiB;AAEjB1C,IAAAA,GAAG,EAAEwC,eAFY;AAGjByC,IAAAA,YAAY,EAAE,sBAACC,KAAD,EAAQpC,MAAR;AAAA,aAAmBA,MAAM,CAACqC,QAAP,EAAnB;AAAA,KAHG;AAIjBC,IAAAA,UAAU,EAAE,CAACnF,QAJI;AAKjBoF,IAAAA,8BAA8B,EAAE,KALf;AAMjBC,IAAAA,4BAA4B,EAAE,KANb;AAOjBC,IAAAA,aAAa,EAAE;AAPE,KAQdjE,KARc;AASjBJ,IAAAA,mBAAmB,EAAEsD,oBATJ;AAUjBgB,IAAAA,qBAAqB,EAAE,+BAAAC,IAAI;AAAA,aACzBrB,UAAU,CAAC;AAAA,eAAMpB,cAAc,CAAC;AAAE1C,UAAAA,KAAK,EAAEmF,IAAI,CAACnF,KAAd;AAAqB+C,UAAAA,QAAQ,EAAE;AAA/B,SAAD,CAApB;AAAA,OAAD,CADe;AAAA,KAVV;AAYjBlD,IAAAA,IAAI,EAAEoB,KAZW;AAajBnB,IAAAA,UAAU,EAAEoB,WAbK;AAcjBkE,IAAAA,kBAAkB,EAAE5D,mBAdH;AAejB6D,IAAAA,kBAAkB,EAAErF,KAfH;AAgBjBc,IAAAA,iBAAiB;AAEfwE,MAAAA,eAAe,EAAE,GAFF;AAGfC,MAAAA,2BAA2B,EAAEhG;AAHd,OAIZuB,iBAJY,CAhBA;AAsBjBD,IAAAA,sBAAsB,EAAEuD;AAtBP,IAAnB;;AA0BA,MAAMoB,eAAe,GAAG;AACtBlE,IAAAA,IAAI,EAAJA,IADsB;AAEtBI,IAAAA,eAAe,EAAEA,eAFK;AAGtByB,IAAAA,aAAa,EAAET,cAHO;AAItBvC,IAAAA,qBAAqB,EAArBA,qBAJsB;AAKtBC,IAAAA,sBAAsB,EAAtBA,sBALsB;AAMtBC,IAAAA,eAAe,EAAfA,eANsB;AAOtBC,IAAAA,mBAAmB,EAAnBA;AAPsB,GAAxB;AAUA,SACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,QAAD,eAAcoE,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,EAEGzE,cAAc,IAAI,oBAAC,mBAAD,eAAyBuF,eAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFrB,CADF;AAMD,CAvNoB,CAAvB;AA0NAhG,cAAc,CAACiG,SAAf,GAA2B;AACzB5F,EAAAA,IAAI,EAAEV,SAAS,CAACuG,KADS;AAEzB/F,EAAAA,QAAQ,EAAER,SAAS,CAACwG,IAFK;AAGzB3F,EAAAA,KAAK,EAAEb,SAAS,CAACyG,MAHQ;AAIzB7F,EAAAA,SAAS,EAAEZ,SAAS,CAACwG,IAJI;AAKzB7F,EAAAA,UAAU,EAAEX,SAAS,CAAC0G,IALG;AAOzBjG,EAAAA,QAPyB,oBAOhBoB,KAPgB,EAOT8E,QAPS,EAOC;AAAA,QAChBjG,IADgB,GACPmB,KADO,CAChBnB,IADgB;;AAExB,QAAI,CAACmB,KAAK,CAAC8E,QAAD,CAAN,IAAoB,CAACjG,IAAzB,EAA+B;AAC7B,aAAO,IAAIkG,KAAJ,CAAU,iDAAV,CAAP;AACD;;AACD,QAAIlG,IAAI,IAAIA,IAAI,CAAC0B,MAAL,KAAgB,CAAxB,IAA6B,CAACP,KAAK,CAAClB,UAAxC,EAAoD;AAClD,aAAO,IAAIiG,KAAJ,CAAU,yCAAV,CAAP;AACD;;AACD,WAAOvB,SAAP;AACD,GAhBwB;AAiBzB7D,EAAAA,aAAa,EAAExB,SAAS,CAAC0G,IAjBA;AAoBzB5F,EAAAA,cAAc,EAAEd,SAAS,CAACwG,IApBD;AAqBzBzF,EAAAA,mBAAmB,EAAEf,SAAS,CAAC0G,IArBN;AAsBzB1F,EAAAA,qBAAqB,EAAEf,UAAU,CAACqG,SAAX,CAAqBtF,qBAtBnB;AAuBzBC,EAAAA,sBAAsB,EAAEhB,UAAU,CAACqG,SAAX,CAAqBrF,sBAvBpB;AAwBzBC,EAAAA,eAAe,EAAEjB,UAAU,CAACqG,SAAX,CAAqBpF,eAxBb;AAyBzBC,EAAAA,mBAAmB,EAAElB,UAAU,CAACqG,SAAX,CAAqBnF,mBAzBjB;AA4BzBC,EAAAA,aAAa,EAAEpB,SAAS,CAACyG,MA5BA;AA6BzBpF,EAAAA,QAAQ,EAAErB,SAAS,CAACwG,IA7BK;AA8BzBjF,EAAAA,uBAAuB,EAAEvB,SAAS,CAACwG,IA9BV;AA+BzBlF,EAAAA,YAAY,EAAEtB,SAAS,CAACwG,IA/BC;AAkCzB/E,EAAAA,mBAAmB,EAAEzB,SAAS,CAAC0G,IAlCN;AAmCzBhF,EAAAA,sBAAsB,EAAE1B,SAAS,CAAC0G,IAnCT;AAoCzB/E,EAAAA,iBAAiB,EAAE3B,SAAS,CAAC6G,MApCJ;AAqCzBjF,EAAAA,cAAc,EAAE5B,SAAS,CAACwG;AArCD,CAA3B;AAwCAnG,cAAc,CAACyG,YAAf,GAA8B;AAC5BjG,EAAAA,KAAK,EAAEV,WADqB;AAE5BO,EAAAA,IAAI,EAAE,EAFsB;AAG5BU,EAAAA,aAAa,EAAE,CAHa;AAI5BG,EAAAA,uBAAuB,EAAE,KAJG;AAK5BD,EAAAA,YAAY,EAAE,KALc;AAM5BD,EAAAA,QAAQ,EAAE,KANkB;AAO5BP,EAAAA,cAAc,EAAE,KAPY;AAQ5BN,EAAAA,QAAQ,EAAE,KARkB;AAS5BI,EAAAA,SAAS,EAAE,KATiB;AAU5BG,EAAAA,mBAAmB,EAAEd,UAVO;AAW5BuB,EAAAA,aAAa,EAAE6D,SAXa;AAa5B5D,EAAAA,mBAAmB,EAAE4D,SAbO;AAc5B3D,EAAAA,sBAAsB,EAAE2D,SAdI;AAe5B1D,EAAAA,iBAAiB,EAAE,EAfS;AAgB5BC,EAAAA,cAAc,EAAE;AAhBY,CAA9B;AAmBA,eAAevB,cAAf","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FlatList } from 'react-native';\n\nimport Pagination from '../Pagination';\n\nconst MILLISECONDS = 1000;\nconst FIRST_INDEX = 0;\nconst ITEM_VISIBLE_PERCENT_THRESHOLD = 60;\n\nconst SwiperFlatList = React.forwardRef(\n  (\n    {\n      vertical,\n      children,\n      data,\n      renderItem,\n      renderAll,\n      index,\n      // Pagination\n      showPagination,\n      PaginationComponent,\n      paginationActiveColor,\n      paginationDefaultColor,\n      paginationStyle,\n      paginationStyleItem,\n      // Autoplay\n      autoplayDelay,\n      autoplay,\n      autoplayLoop,\n      autoplayInvertDirection,\n      // Functions\n      onChangeIndex,\n      onMomentumScrollEnd,\n      onViewableItemsChanged,\n      viewabilityConfig,\n      disableGesture,\n      ...props\n    },\n    ref,\n  ) => {\n    let _data;\n    let _renderItem;\n\n    if (children) {\n      // github.com/gusgard/react-native-swiper-flatlist/issues/40\n      _data = Array.isArray(children) ? children : [children];\n      _renderItem = ({ item }) => item;\n    } else if (data) {\n      _data = data;\n      _renderItem = renderItem;\n    }\n    const size = _data.length;\n    // Items to render in the initial batch.\n    const _initialNumToRender = renderAll ? size : 1;\n    const [paginationIndex, setPaginationIndex] = React.useState(index);\n    const [prevIndex, setPrevIndex] = React.useState(index);\n    const [paginationIndexes, setPaginationIndexes] = React.useState({ index, prevIndex: index });\n    const [ignoreOnMomentumScrollEnd, setIgnoreOnMomentumScrollEnd] = React.useState(false);\n    const flatListElement = React.useRef(null);\n    const [scrollEnabled, setScrollEnabled] = React.useState(!disableGesture);\n\n    const _onChangeIndex = React.useCallback(\n      ({ index: _index, prevIndex: _prevIndex }) => {\n        onChangeIndex?.({ index: _index, prevIndex: _prevIndex });\n      },\n      [onChangeIndex],\n    );\n\n    const _scrollToIndex = params => {\n      if (typeof params !== 'object') {\n        console.error(\n          'Expected an object for \"scrollToIndex\", for example: scrollToIndex({ index: 1, animated: true })',\n        );\n        // NOTE: remove in future versions.\n        return;\n      }\n\n      const { index: indexToScroll, animated = true } = params;\n      const newParams = { animated, index: indexToScroll };\n\n      setPaginationIndexes(prevState => {\n        setIgnoreOnMomentumScrollEnd(true);\n        return { index: indexToScroll, prevIndex: prevState.index };\n      });\n      // When execute \"scrollToIndex\", we ignore the method \"onMomentumScrollEnd\"\n      // because it not working on Android\n      // https://github.com/facebook/react-native/issues/21718\n      flatListElement?.current?.scrollToIndex(newParams);\n    };\n\n    React.useEffect(() => {\n      const next = {\n        index: paginationIndexes.index,\n        prevIndex: paginationIndexes.prevIndex,\n      };\n      if (paginationIndex !== next.index) {\n        setPaginationIndex(next.index);\n      }\n      if (prevIndex !== next.prevIndex) {\n        setPrevIndex(next.prevIndex);\n      }\n      _onChangeIndex({ index: next.index, prevIndex: next.prevIndex });\n      // only consider \"paginationIndexes\"\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [paginationIndexes]);\n\n    React.useEffect(() => {\n      _onChangeIndex({ index: paginationIndex, prevIndex: prevIndex });\n    }, [paginationIndex, prevIndex]);\n\n    React.useImperativeHandle(ref, () => ({\n      scrollToIndex: (...args) => {\n        setScrollEnabled(true);\n        _scrollToIndex(...args);\n        setScrollEnabled(!disableGesture);\n      },\n      getCurrentIndex: () => paginationIndex,\n      getPrevIndex: () => prevIndex,\n      goToLastIndex: () => {\n        setScrollEnabled(true);\n        _scrollToIndex({ index: size - 1 });\n        setScrollEnabled(!disableGesture);\n      },\n      goToFirstIndex: () => {\n        setScrollEnabled(true);\n        _scrollToIndex({ index: FIRST_INDEX });\n        setScrollEnabled(!disableGesture);\n      },\n    }));\n\n    React.useEffect(() => {\n      const isLastIndexEnd = autoplayInvertDirection\n        ? paginationIndex === FIRST_INDEX\n        : paginationIndex === _data.length - 1;\n      const shouldContinuoWithAutoplay = autoplay && !isLastIndexEnd;\n      let autoplayTimer;\n      if (shouldContinuoWithAutoplay || autoplayLoop) {\n        autoplayTimer = setTimeout(() => {\n          const nextIncrement = autoplayInvertDirection ? -1 : +1;\n\n          let nextIndex = (paginationIndex + nextIncrement) % _data.length;\n          if (autoplayInvertDirection && nextIndex < FIRST_INDEX) {\n            nextIndex = _data.length - 1;\n          }\n\n          // When reach the end disable animated\n          _scrollToIndex({ index: nextIndex, animated: !isLastIndexEnd });\n        }, autoplayDelay * MILLISECONDS);\n      }\n      // https://upmostly.com/tutorials/settimeout-in-react-components-using-hooks\n      return () => clearTimeout(autoplayTimer);\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [paginationIndex]);\n    const _onMomentumScrollEnd = e => {\n      // NOTE: Method not executed when call \"flatListElement?.current?.scrollToIndex\"\n      if (ignoreOnMomentumScrollEnd) {\n        setIgnoreOnMomentumScrollEnd(false);\n        return;\n      }\n\n      onMomentumScrollEnd?.({ index: paginationIndex }, e);\n\n      //_onChangeIndex({ index: paginationIndex, prevIndex });\n    };\n\n    const _onViewableItemsChanged = React.useMemo(\n      () => params => {\n        const { changed } = params;\n        const newItem = changed?.[FIRST_INDEX];\n        if (newItem !== undefined) {\n          const nextIndex = newItem.index;\n          if (newItem.isViewable) {\n            setPaginationIndex(nextIndex);\n          } else {\n            setPrevIndex(nextIndex);\n          }\n        }\n        onViewableItemsChanged?.(params);\n      },\n      [],\n    );\n\n    const flatListProps = {\n      scrollEnabled,\n      ref: flatListElement,\n      keyExtractor: (_item, _index) => _index.toString(),\n      horizontal: !vertical,\n      showsHorizontalScrollIndicator: false,\n      showsVerticalScrollIndicator: false,\n      pagingEnabled: true,\n      ...props,\n      onMomentumScrollEnd: _onMomentumScrollEnd,\n      onScrollToIndexFailed: info =>\n        setTimeout(() => _scrollToIndex({ index: info.index, animated: false })),\n      data: _data,\n      renderItem: _renderItem,\n      initialNumToRender: _initialNumToRender,\n      initialScrollIndex: index, // used with onScrollToIndexFailed\n      viewabilityConfig: {\n        // https://facebook.github.io/react-native/docs/flatlist#minimumviewtime\n        minimumViewTime: 200,\n        itemVisiblePercentThreshold: ITEM_VISIBLE_PERCENT_THRESHOLD,\n        ...viewabilityConfig,\n      },\n      onViewableItemsChanged: _onViewableItemsChanged,\n      // debug: true, // for debug\n    };\n\n    const paginationProps = {\n      size,\n      paginationIndex: paginationIndex,\n      scrollToIndex: _scrollToIndex,\n      paginationActiveColor,\n      paginationDefaultColor,\n      paginationStyle,\n      paginationStyleItem,\n    };\n\n    return (\n      <React.Fragment>\n        <FlatList {...flatListProps} />\n        {showPagination && <PaginationComponent {...paginationProps} />}\n      </React.Fragment>\n    );\n  },\n);\n\nSwiperFlatList.propTypes = {\n  data: PropTypes.array,\n  vertical: PropTypes.bool,\n  index: PropTypes.number,\n  renderAll: PropTypes.bool,\n  renderItem: PropTypes.func,\n  // Only is allowed children or data not both\n  children(props, propName) {\n    const { data } = props;\n    if (!props[propName] && !data) {\n      return new Error('Invalid props, `data` or `children` is required');\n    }\n    if (data && data.length !== 0 && !props.renderItem) {\n      return new Error('Invalid props, `renderItem` is required');\n    }\n    return undefined;\n  },\n  onChangeIndex: PropTypes.func,\n\n  // Pagination\n  showPagination: PropTypes.bool,\n  PaginationComponent: PropTypes.func,\n  paginationActiveColor: Pagination.propTypes.paginationActiveColor,\n  paginationDefaultColor: Pagination.propTypes.paginationDefaultColor,\n  paginationStyle: Pagination.propTypes.paginationStyle,\n  paginationStyleItem: Pagination.propTypes.paginationStyleItem,\n\n  // Autoplay\n  autoplayDelay: PropTypes.number,\n  autoplay: PropTypes.bool,\n  autoplayInvertDirection: PropTypes.bool,\n  autoplayLoop: PropTypes.bool,\n\n  // Optionals\n  onMomentumScrollEnd: PropTypes.func,\n  onViewableItemsChanged: PropTypes.func,\n  viewabilityConfig: PropTypes.object,\n  disableGesture: PropTypes.bool,\n};\n\nSwiperFlatList.defaultProps = {\n  index: FIRST_INDEX,\n  data: [],\n  autoplayDelay: 3,\n  autoplayInvertDirection: false,\n  autoplayLoop: false,\n  autoplay: false,\n  showPagination: false,\n  vertical: false,\n  renderAll: false,\n  PaginationComponent: Pagination,\n  onChangeIndex: undefined,\n  // Optionals\n  onMomentumScrollEnd: undefined,\n  onViewableItemsChanged: undefined,\n  viewabilityConfig: {},\n  disableGesture: false,\n};\n\nexport default SwiperFlatList;\n"]},"metadata":{},"sourceType":"module"}